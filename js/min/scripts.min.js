function disableOther(e){"showRight"!==e&&classie.toggle(showRight,"disabled")}!function(e){function t(e){e.removeClass("invisible"),e.addClass("visible"),setTimeout(function(){e.removeClass("visible")},300)}function i(e){return e.data(o)||e.is("script")||e.is("style")||e.is("link")}function n(e){e.data(o,!0)}function s(t){var i=t[0].getBoundingClientRect(),n=e(window).scrollTop(),s=e(window).scrollLeft(),a=n+i.top,r=s+i.left,o=n+i.bottom,l=s+i.right,d=o-a,c=l-r,u=n-d,h=s-c,p=u+e(window).height()+d+d,f=h+e(window).width()+c+c;return a>u&&p>o&&r>h&&f>l}function a(){if(d=l.length>0){var e=l.shift();e(),setTimeout(a,5)}}function r(e){l.push(e),d||a()}var o="handled",l=[],d=!1;e.fn.lazyView=function(){return this.find("*").each(function(){var a=e(this);if(!i(a)){a.addClass("invisible");var o=function(){if(!i(a)&&s(a)){var l=function(){t(a)};n(a),r(l),e(window).off("scroll",o),e(window).off("resize",o)}};e(window).on("scroll",o),e(window).on("resize",o),o()}}),this.css("visibility","visible"),this}}(jQuery),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){var i=n(e,t)?a:s;i(e,t)}var n,s,a;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},a=function(e,t){e.classList.remove(t)}):(n=function(e,i){return t(i).test(e.className)},s=function(e,t){n(e,t)||(e.className=e.className+" "+t)},a=function(e,i){e.className=e.className.replace(t(i)," ")});var r={hasClass:n,addClass:s,removeClass:a,toggleClass:i,has:n,add:s,remove:a,toggle:i};"function"==typeof define&&define.amd?define(r):e.classie=r}(window),function(e){"use strict";$(".lazyView").lazyView();var t=$(".down-button");$.extend({show:function(){$(t,this).animate({marginTop:"20px"},{duration:200,complete:function(){$(this).animate({marginTop:"0px"},{})}})}}),setInterval("$.show();",100),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html , body").animate({scrollTop:e.offset().top},1e3),!1}})}(window),$(document).scroll(function(){var e=$(this).scrollTop(),t=window.innerWidth;$(".brand");st=$(".side-trigger"),e>85||768>=t?st.fadeIn(100):st.fadeOut(100)}),$(".hamburger-trigger").click(function(e){e.preventDefault();var t=($(".hamburger-trigger"),$(".topNav ul li > a:not(.hamburger-trigger, .brand)"));t.fadeToggle("slow",function(){})}),$("#burger").click(function(){classie.toggle(menuRight,"cbp-spmenu-open"),disableOther("showRight"),$(this).toggleClass("open")});var menuRight=document.getElementById("cbp-spmenu-s2"),showRight=document.getElementById("showRight");jQuery(document).ready(function(){$(window).width()<630?args={animationEasing:"swing",carouselSpeed:500,autoPlay:3e3,rightButtonTag:"#pinwheel_slider_1_next",leftButtonTag:"#pinwheel_slider_1_prev",preload:!0,largeFeatureWidth:450,largeFeatureHeight:300,smallFeatureWidth:250,smallFeatureHeight:200,smallFeatureOffset:30,topPadding:0,bottomPadding:0,sidePadding:0,minimize:!1,sliderMaxWidth:440,sliderMaxHeight:350,prettyphoto:!1,slider_handle:"pinwheel_slider_1"}:args={animationEasing:"swing",carouselSpeed:500,autoPlay:8e3,rightButtonTag:"#pinwheel_slider_1_next",leftButtonTag:"#pinwheel_slider_1_prev",preload:!0,largeFeatureWidth:450,largeFeatureHeight:300,smallFeatureWidth:250,smallFeatureHeight:200,smallFeatureOffset:30,topPadding:0,sidePadding:0,minimize:!1,sliderMaxWidth:900,sliderMaxHeight:350,prettyphoto:!1,slider_handle:"pinwheel_slider_1"};var e=jQuery("#pinwheel_slider_1").pinwheel(args);jQuery(window).on("debouncedresize",function(){e.reload(args)}),jQuery()}),$(window).scroll(function(){var e=$(window).scrollTop();$(".homepageHeader").css({opacity:(200-e)/250+.3}),$(".inner-header-blocks").css({opacity:(150-e)/100+.3})}),jQuery(document).ready(function(e){function t(){var t=e(".floating-labels .cd-label").next();t.each(function(){var t=e(this);i(t),t.on("change keyup",function(){i(t)})})}function i(e){""===e.val()?e.prev(".cd-label").removeClass("float"):e.prev(".cd-label").addClass("float")}e(".floating-labels").length>0&&t(),e("#submit").click(function(){e(".error-message").hide();var t=e(".email").text(),i=[];e.each(t.split(";"),function(t,n){n.match(/^\S+@\S+\.\S+$/)?i.push(n):e(".error-message").show().removeClass("hide")}),e(".email").html(i.join(";"))})}),jQuery(document).ready(function(e){var t=300,i=1200,n=700,s=e(".cd-top");e(window).scroll(function(){e(this).scrollTop()>t?s.addClass("cd-is-visible"):s.removeClass("cd-is-visible cd-fade-out"),e(this).scrollTop()>i&&s.addClass("cd-fade-out")}),s.on("click",function(t){t.preventDefault(),e("body,html").animate({scrollTop:0},n)})}),$(document).ready(function(){var e=document.getElementById("theForm");new stepsForm(e,{onSubmit:function(t){classie.addClass(e.querySelector(".simform-inner"),"hide");var i=e.querySelector(".final-message");i.innerHTML="Thank you! We'll be in touch.",classie.addClass(i,"show")}}),$(".pop-up-contact-div").hide(),$(function(){$(".contact-btn-trigger").click(function(){$(".contact-div-trigger").hide(),$(".pop-up-contact-div").show()})})}),function(e,t,i){"use strict";var n,s,a=e.event;n=a.special.debouncedresize={setup:function(){e(this).on("resize",n.handler)},teardown:function(){e(this).off("resize",n.handler)},handler:function(e,t){var i=this,r=arguments,o=function(){e.type="debouncedresize",a.dispatch.apply(i,r)};s&&clearTimeout(s),t?o():s=setTimeout(o,n.threshold)},threshold:20};var r=e(t),o=e(document),l=t.Modernizr;e.Slitslider=function(t,i){this.$elWrapper=e(i),this._init(t)},e.Slitslider.defaults={speed:800,optOpacity:!1,translateFactor:230,maxAngle:25,maxScale:2,autoplay:!0,keyboard:!0,interval:4e3,onBeforeChange:function(e,t){return!1},onAfterChange:function(e,t){return!1}},e.Slitslider.prototype={_init:function(t){this.options=e.extend(!0,{},e.Slitslider.defaults,t),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[l.prefixed("transition")],this.support=l.csstransitions&&l.csstransforms3d,this.$el=this.$elWrapper.children(".sl-slider"),this.$slides=this.$el.children(".sl-slide").hide(),this.slidesCount=this.$slides.length,this.current=0,this.isAnimating=!1,this._getSize(),this._layout(),this._loadEvents(),this.options.autoplay&&this._startSlideshow()},_getSize:function(){this.size={width:this.$elWrapper.outerWidth(!0),height:this.$elWrapper.outerHeight(!0)}},_layout:function(){this.$slideWrapper=e('<div class="sl-slides-wrapper" />'),this.$slides.wrapAll(this.$slideWrapper).each(function(t){var i=e(this),n=i.data("orientation");i.addClass("sl-slide-"+n).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />')}),this._setSize(),this.$slides.eq(this.current).show()},_navigate:function(t,n){if(this.isAnimating||this.slidesCount<2)return!1;this.isAnimating=!0;var s=this,a=this.$slides.eq(this.current);n!==i?this.current=n:"next"===t?this.current=this.current<this.slidesCount-1?++this.current:0:"prev"===t&&(this.current=this.current>0?--this.current:this.slidesCount-1),this.options.onBeforeChange(a,this.current);var r=this.$slides.eq(this.current),o="next"===t?a:r,l=o.data(),d={};d.orientation=l.orientation||"horizontal",d.slice1angle=l.slice1Rotation||0,d.slice1scale=l.slice1Scale||1,d.slice2angle=l.slice2Rotation||0,d.slice2scale=l.slice2Scale||1,this._validateValues(d);var c="horizontal"===d.orientation?{marginTop:-this.size.height/2}:{marginLeft:-this.size.width/2},u={transform:"translate(0%,0%) rotate(0deg) scale(1)",opacity:1},h="horizontal"===d.orientation?{transform:"translateY(-"+this.options.translateFactor+"%) rotate("+d.slice1angle+"deg) scale("+d.slice1scale+")"}:{transform:"translateX(-"+this.options.translateFactor+"%) rotate("+d.slice1angle+"deg) scale("+d.slice1scale+")"},p="horizontal"===d.orientation?{transform:"translateY("+this.options.translateFactor+"%) rotate("+d.slice2angle+"deg) scale("+d.slice2scale+")"}:{transform:"translateX("+this.options.translateFactor+"%) rotate("+d.slice2angle+"deg) scale("+d.slice2scale+")"};this.options.optOpacity&&(h.opacity=0,p.opacity=0),a.removeClass("sl-trans-elems");var f={transition:"all "+this.options.speed+"ms ease-in-out"};o.css("z-index",this.slidesCount).find("div.sl-content-wrapper").wrap(e('<div class="sl-content-slice" />').css(f)).parent().cond("prev"===t,function(){var e=this;this.css(h),setTimeout(function(){e.css(u)},50)},function(){var e=this;setTimeout(function(){e.css(h)},50)}).clone().appendTo(o).cond("prev"===t,function(){var e=this;this.css(p),setTimeout(function(){a.addClass("sl-trans-back-elems"),s.support?e.css(u).on(s.transEndEventName,function(){s._onEndNavigate(e,a,t)}):s._onEndNavigate(e,a,t)},50)},function(){var e=this;setTimeout(function(){r.addClass("sl-trans-elems"),s.support?e.css(p).on(s.transEndEventName,function(){s._onEndNavigate(e,a,t)}):s._onEndNavigate(e,a,t)},50)}).find("div.sl-content-wrapper").css(c),r.show()},_validateValues:function(e){(e.slice1angle>this.options.maxAngle||e.slice1angle<-this.options.maxAngle)&&(e.slice1angle=this.options.maxAngle),(e.slice2angle>this.options.maxAngle||e.slice2angle<-this.options.maxAngle)&&(e.slice2angle=this.options.maxAngle),(e.slice1scale>this.options.maxScale||e.slice1scale<=0)&&(e.slice1scale=this.options.maxScale),(e.slice2scale>this.options.maxScale||e.slice2scale<=0)&&(e.slice2scale=this.options.maxScale),"vertical"!==e.orientation&&"horizontal"!==e.orientation&&(e.orientation="horizontal")},_onEndNavigate:function(e,t,i){var n=e.parent(),s="sl-trans-elems sl-trans-back-elems";e.remove(),n.css("z-index",1).find("div.sl-content-wrapper").unwrap(),t.hide().removeClass(s),n.removeClass(s),this.isAnimating=!1,this.options.onAfterChange(n,this.current)},_setSize:function(){var e={width:this.size.width,height:this.size.height};this.$el.css(e).find("div.sl-content-wrapper").css(e)},_loadEvents:function(){var e=this;r.on("debouncedresize.slitslider",function(t){e._getSize(),e._setSize()}),this.options.keyboard&&o.on("keydown.slitslider",function(t){var i=t.keyCode||t.which,n={left:37,up:38,right:39,down:40};switch(i){case n.left:e._stopSlideshow(),e._navigate("prev");break;case n.right:e._stopSlideshow(),e._navigate("next")}})},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){e._navigate("next"),e.options.autoplay&&e._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.isPlaying=!1,this.options.autoplay=!1)},_destroy:function(t){this.$el.off(".slitslider").removeData("slitslider"),r.off(".slitslider"),o.off(".slitslider"),this.$slides.each(function(t){var i=e(this),n=i.find("div.sl-content").children();n.appendTo(i),i.children("div.sl-content-wrapper").remove()}),this.$slides.unwrap(this.$slideWrapper).hide(),this.$slides.eq(0).show(),t&&t.call()},add:function(t,i){this.$slides=this.$slides.add(t);var n=this;t.each(function(t){var i=e(this),s=i.data("orientation");i.hide().addClass("sl-slide-"+s).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />').end().appendTo(n.$el.find("div.sl-slides-wrapper"))}),this._setSize(),this.slidesCount=this.$slides.length,i&&i.call($items)},next:function(){this._stopSlideshow(),this._navigate("next")},previous:function(){this._stopSlideshow(),this._navigate("prev")},jump:function(e){return e-=1,e===this.current||e>=this.slidesCount||0>e?!1:(this._stopSlideshow(),void this._navigate(e>this.current?"next":"prev",e))},play:function(){this.isPlaying||(this.isPlaying=!0,this._navigate("next"),this.options.autoplay=!0,this._startSlideshow())},pause:function(){this.isPlaying&&this._stopSlideshow()},isActive:function(){return this.isAnimating},destroy:function(e){this._destroy(e)}};var d=function(e){t.console&&t.console.error(e)};e.fn.slitslider=function(t){var i=e.data(this,"slitslider");if("string"==typeof t){var n=Array.prototype.slice.call(arguments,1);this.each(function(){return i?e.isFunction(i[t])&&"_"!==t.charAt(0)?void i[t].apply(i,n):void d("no such method '"+t+"' for slitslider self"):void d("cannot call methods on slitslider prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i?i._init():i=e.data(this,"slitslider",new e.Slitslider(t,this))});return i};var c=function(){var t=e("#nav-arrows"),i=e("#nav-dots > span"),n=e("#slider").slitslider({onBeforeChange:function(e,t){i.removeClass("nav-dot-current"),i.eq(t).addClass("nav-dot-current")}}),s=function(){a()},a=function(){t.children(":last").on("click",function(){return n.next(),!1}),t.children(":first").on("click",function(){return n.previous(),!1}),i.each(function(t){e(this).on("click",function(s){var a=e(this);return n.isActive()||(i.removeClass("nav-dot-current"),a.addClass("nav-dot-current")),n.jump(t+1),!1})})};return{init:s}}();c.init()}(jQuery,window),eval(function(e,t,i,n,s,a){if(s=function(e){return(t>e?"":s(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)a[s(i)]=n[i]||s(i);n=[function(e){return a[e]}],s=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(e=e.replace(new RegExp("\\b"+s(i)+"\\b","g"),n[i]));return e}("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});",62,74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),0,{}))(function(e){var t,i,n=jQuery.event;t=n.special.debouncedresize={setup:function(){jQuery(this).on("resize",t.handler)},teardown:function(){jQuery(this).off("resize",t.handler)},handler:function(e,s){var a=this,r=arguments,o=function(){e.type="debouncedresize",n.dispatch.apply(a,r)};i&&clearTimeout(i),s?o():i=setTimeout(o,t.threshold)},threshold:50},e.fn.pinwheel=function(t){if(this.length>1)return this.each(function(){e(this).pinwheel(t)}),this;t=e.extend({},e.fn.pinwheel.defaults,t||{});var i,n;i=0===t.sliderMaxWidth?e(this).width():t.sliderMaxWidth,n=0===t.sliderMaxHeight?e(this).height():t.sliderMaxHeight;var s={currentCenterNum:t.startingFeature,prevCenterNum:-1,containerWidth:0,containerHeight:0,largeFeatureWidth:0,largeFeatureHeight:0,smallFeatureWidth:0,smallFeatureHeight:0,totalFeatureCount:e(this).children("div").length,allItems:e(this).children("div"),currentlyMoving:!1,featuresContainer:e(this),featuresArray:[],containerIDTag:"#"+e(this).attr("id"),timeoutVar:null,rotationsRemaining:0,itemsToAnimate:0,borderWidth:0,sliderMaxWidth:i,sliderMaxHeight:n},a=function(i){if(t.preload===!0){var n=s.featuresContainer.find("img"),a=0,r=n.length;n.each(function(t,n){var s=new Image;e(s).bind("load error",function(){a++,a==r&&i()}),s.src=n.src})}else i()},r=function(e){return s.featuresArray[e-1]},o=function(e){return e-1===0?s.totalFeatureCount:e-1},l=function(e){return e+1>s.totalFeatureCount?1:e+1},d=function(){s.containerWidth=s.featuresContainer.width(),t.trackerIndividual===!0||t.trackerSummation===!0?s.containerHeight=s.sliderMaxHeight*(s.containerWidth/s.sliderMaxWidth)+20:s.containerHeight=s.sliderMaxHeight*(s.containerWidth/s.sliderMaxWidth),e(s.containerIDTag).css("height",s.containerHeight);var i=e(s.containerIDTag).find(".carousel-image:first");t.largeFeatureWidth>1?s.largeFeatureWidth=t.largeFeatureWidth:t.largeFeatureWidth>0&&t.largeFeatureWidth<=1?s.largeFeatureWidth=i.width()*t.largeFeatureWidth:s.largeFeatureWidth=i.outerWidth(),t.largeFeatureHeight>1?s.largeFeatureHeight=t.largeFeatureHeight:t.largeFeatureHeight>0&&t.largeFeatureHeight<=1?s.largeFeatureHeight=i.height()*t.largeFeatureHeight:s.largeFeatureHeight=i.outerHeight(),t.smallFeatureWidth>1?s.smallFeatureWidth=t.smallFeatureWidth:t.smallFeatureWidth>0&&t.smallFeatureWidth<=1?s.smallFeatureWidth=i.width()*t.smallFeatureWidth:s.smallFeatureWidth=i.outerWidth()/2,t.smallFeatureHeight>1?s.smallFeatureHeight=t.smallFeatureHeight:t.smallFeatureHeight>0&&t.smallFeatureHeight<=1?s.smallFeatureHeight=i.height()*t.smallFeatureHeight:s.smallFeatureHeight=i.outerHeight()/2},c=function(){t.displayCutoff>0&&t.displayCutoff<s.totalFeatureCount&&(s.totalFeatureCount=t.displayCutoff),s.featuresContainer.find(".carousel-feature").each(function(t){t<s.totalFeatureCount&&(s.featuresArray[t]=e(this))}),"medium"!=s.featuresContainer.find(".carousel-feature").first().css("borderLeftWidth")&&(s.borderWidth=2*parseInt(s.featuresContainer.find(".carousel-feature").first().css("borderLeftWidth")),s.borderWidth=s.borderWidth+2*parseInt(s.featuresContainer.find(".carousel-feature").first().css("paddingLeft")));var i=s.containerWidth/s.sliderMaxWidth;s.featuresContainer.find(".carousel-feature").each(function(){e(this).css({left:s.containerWidth/2-s.smallFeatureWidth/2-s.borderWidth/2,width:s.smallFeatureWidth*i,height:s.smallFeatureHeight*i,top:t.smallFeatureOffset+t.topPadding,opacity:0})}).find(".carousel-image").css({width:s.smallFeatureWidth*i}),t.captionBelow&&s.featuresContainer.find(".carousel-caption").css("position","relative"),s.totalFeatureCount<4?s.itemsToAnimate=s.totalFeatureCount:s.itemsToAnimate=4,s.featuresContainer.find(".carousel-caption").hide();var n=jQuery(s.containerIDTag).find(".pinwheel_eshortcode iframe").not(":eq(0)");n.length>0&&jQuery(n).each(function(e,t){var i,n;i=jQuery(this)[0].outerHTML.replace(/<iframe/,"<div class='pinwheel-iframe'").replace("</iframe>","</div>"),n=jQuery(t).parent(),jQuery(t).remove(),n.html(i)})},u=function(){e.each(s.featuresArray,function(t){e(this).data("setPosition",t+1)});var i=o(t.startingFeature);s.currentCenterNum=i;var n=r(i);n.data("position",1);var a=n.prevAll();a.each(function(t){e(this).data("position",s.totalFeatureCount-t)});var l=n.nextAll();l.each(function(t){void 0!==e(this).data("setPosition")&&e(this).data("position",t+2)}),"caption"==t.counterStyle&&e.each(s.featuresArray,function(){var t=o(e(this).data("position")),i=e("<span></span>");i.addClass("numberTag"),i.html("("+t+" of "+s.totalFeatureCount+") "),e(this).find(".carousel-caption p").prepend(i)})},h=function(){if(t.trackerIndividual){var i=e("<ul></ul>");i.addClass("tracker-individual-container");for(var n=0;n<s.totalFeatureCount;n++){var a=n+1,r=e("<div>"+a+"</div>");r.addClass("tracker-individual-blip"),r.addClass("tracker-"+(n+1)),r.css("cursor","pointer");var o=e("<li></li>");o.append(r),o.css("float","left"),o.css("list-style-type","none"),i.append(o)}e(s.containerIDTag).append(i),i.hide().show()}if(t.trackerSummation){var l=e("<div></div>");l.addClass("tracker-summation-container");var d=e("<span></span>").addClass("tracker-summation-current").text(t.startingFeature),c=e("<span></span>").addClass("tracker-summation-total").text(s.totalFeatureCount),u=e("<span></span>").addClass("tracker-summation-middle").text(" of ");l.append(d).append(u).append(c),e(s.containerIDTag).append(l)}},p=function(e,i){if(t.trackerIndividual){var n=s.featuresContainer.find(".tracker-individual-container"),a=n.find(".tracker-"+e),r=n.find(".tracker-"+i);a.removeClass("tracker-individual-blip-selected"),r.addClass("tracker-individual-blip-selected")}if(t.trackerSummation){var n=s.featuresContainer.find(".tracker-summation-container");n.find(".tracker-summation-current").text(i)}},f=function(e){if(clearTimeout(s.timeoutVar),!e&&0!==t.autoPlay){var i=Math.abs(t.autoPlay)<t.carouselSpeed?t.carouselSpeed:Math.abs(t.autoPlay);s.timeoutVar=setTimeout(function(){t.autoPlay>0?w(!0,1):w(!1,1)},i)}},m=function(t){e.each(s.featuresArray,function(){var i;i=t===!1?l(e(this).data().position):o(e(this).data().position),e(this).data("position",i)})},g=function(i,n){var a,r,d,c,u,h,g,w=i.data("position");g=n===!0?o(w):l(w),1==w&&t.leavingCenter(i),1==g?(a=s.largeFeatureWidth*(s.containerWidth/s.sliderMaxWidth),r=s.largeFeatureHeight*(s.containerWidth/s.sliderMaxWidth),d=t.topPadding,u=i.css("z-index"),c=s.containerWidth/2-a/2-s.borderWidth/2,h=1):(a=s.smallFeatureWidth*(s.containerWidth/s.sliderMaxWidth),r=s.smallFeatureHeight*(s.containerWidth/s.sliderMaxWidth),d=t.smallFeatureOffset*(s.containerWidth/s.sliderMaxWidth)+t.topPadding,u=1,h=.75,g==s.totalFeatureCount?c=t.sidePadding:2==g?c=s.containerWidth-a-t.sidePadding-s.borderWidth:(c=s.containerWidth/2-a/2-s.borderWidth/2,h=0)),1==w&&i.find(".carousel-caption").stop(!0,!0).slideUp(0),0>c&&(c=0),i.animate({width:a,height:r,top:d,left:c,opacity:h},t.carouselSpeed,t.animationEasing,function(){if(1==g&&(t.captionBelow&&i.css("height","auto"),t.minimize===!1?(i.find(".carousel-caption").slideDown(400),jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption .texthide").css("display","block")):(jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption").css("display","none"),jQuery(s.containerIDTag).find(".pinwheel_center_slide .textshow").css("display","block")),jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption .texthide").bind("click",function(){jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption").slideUp("slow"),jQuery(s.containerIDTag).find(".pinwheel_center_slide .textshow").css("display","block")}),jQuery(s.containerIDTag).find(".pinwheel_center_slide .textshow").bind("click",function(){jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption").stop(!0,!0).slideUp(0),jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption").slideDown(400),jQuery(s.containerIDTag).find(".pinwheel_center_slide .carousel-caption .texthide").css("display","block"),e(this).hide()}),jQuery(s.containerIDTag).find(".pinwheel_right_slide .textshow").css({display:"none"}),jQuery(s.containerIDTag).find(".pinwheel_left_slide .textshow").css({display:"none"}),t.movedToCenter(i)),s.rotationsRemaining=s.rotationsRemaining-1,i.css("z-index",u),(t.trackerIndividual||t.trackerSummation)&&1==g){var a,r=s.featuresContainer.find(".carousel-feature").index(i)+1;a=n===!1?l(r):o(r),p(a,r)}var d=s.rotationsRemaining/s.itemsToAnimate;d%1===0&&(s.currentlyMoving=!1,m(n),s.rotationsRemaining>0&&v(n)),f(!1)}).find(".carousel-image").animate({width:a,height:r},t.carouselSpeed,t.animationEasing).find(".carousel-image").animate({width:a,height:r},t.carouselSpeed,t.animationEasing).end()},v=function(e){s.currentlyMoving=!0;var i,n,a,d;e===!0?(i=r(l(s.currentCenterNum)),n=r(s.currentCenterNum),s.prevCenterNum=s.currentCenterNum,a=r(l(l(s.currentCenterNum))),d=r(o(s.currentCenterNum)),s.currentCenterNum=l(s.currentCenterNum)):(i=r(o(s.currentCenterNum)),n=r(o(o(s.currentCenterNum))),s.prevCenterNum=s.currentCenterNum,a=r(s.currentCenterNum),d=r(l(s.currentCenterNum)),s.currentCenterNum=o(s.currentCenterNum)),e?n.css("z-index",3):a.css("z-index",3),i.css("z-index",4);var c=r(s.prevCenterNum),u=c.find(".pinwheel_eshortcode .pinwheel-iframe").eq(0);if(u.length<=0&&(u=c.find(".pinwheel_eshortcode iframe").eq(0)),u.length>0){var h,p;h=jQuery(u)[0].outerHTML.replace(/<iframe/,"<div class='pinwheel-iframe'").replace("</iframe>","</div>"),p=jQuery(u).parent(),jQuery(u).remove(),p.html(h)}i.removeClass("pinwheel_left_slide pinwheel_right_slide pinwheel_feature_slide"),i.addClass("pinwheel_center_slide");var f=i.find(".pinwheel_slider_thumbnail").data("anim"),m=i.find(".pinwheel_text span").data("anim"),v=i.find(".slider_htitle").data("anim");i.find(".pinwheel_slider_thumbnail").removeClass("pinwheel-animated"),i.find(".pinwheel_slider_thumbnail").removeClass("pinwheel-"+f),i.find(".pinwheel_text span").removeClass("pinwheel-animated"),i.find(".pinwheel_text span").removeClass("pinwheel-"+m),i.find(".slider_htitle").removeClass("pinwheel-animated"),i.find(".slider_htitle").removeClass("pinwheel-"+v),n.removeClass("pinwheel_center_slide pinwheel_hidden_slide"),n.addClass("pinwheel_left_slide pinwheel_feature_slide"),a.removeClass("pinwheel_center_slide pinwheel_hidden_slide"),a.addClass("pinwheel_right_slide pinwheel_feature_slide"),d.removeClass("pinwheel_left_slide pinwheel_right_slide"),d.addClass("pinwheel_hidden_slide"),t.movingToCenter(i),g(n,e),g(i,e),g(a,e),s.totalFeatureCount>3&&g(d,e),i.find(".pinwheel_slider_thumbnail").addClass("pinwheel-animated"),i.find(".pinwheel_slider_thumbnail").addClass("pinwheel-"+f),i.find(".pinwheel_text span").addClass("pinwheel-animated"),i.find(".pinwheel_text span").addClass("pinwheel-"+m),i.find(".slider_htitle").addClass("pinwheel-animated"),i.find(".slider_htitle").addClass("pinwheel-"+v),setTimeout(function(){u=i.find(".pinwheel_eshortcode .pinwheel-iframe").eq(0),u.length<=0&&(u=c.find(".pinwheel_eshortcode iframe").eq(0)),u.length>0&&(ifrmdivHtml=u[0].outerHTML.replace(/<div class="pinwheel-iframe"/,"<iframe").replace("</div>","</iframe>"),p=u.parent(),u.remove(),p.html(ifrmdivHtml))},t.carouselSpeed)},w=function(e,t){if(s.currentlyMoving===!1){var i=t*s.itemsToAnimate;s.rotationsRemaining=i,v(e)}},b=function(e,t){var i,n=1,s=1;for(i=e;(i=o(i))!=t;)n++;for(i=e;(i=l(i))!=t;)s++;return s>n?-1*n:s};return e(t.leftButtonTag).on("click",function(){w(!1,1)}),e(t.rightButtonTag).on("click",function(){w(!0,1)}),s.featuresContainer.find(".carousel-feature").click(function(){var t=e(this).data("position");2==t?w(!0,1):t==s.totalFeatureCount&&w(!1,1)}).mouseover(function(){if(s.currentlyMoving===!1){var i=e(this).data("position");(2==i||i==s.totalFeatureCount)&&e(this).css("opacity",.9)}t.pauseOnHover&&f(!0),t.stopOnHover&&(t.autoPlay=0)}).mouseout(function(){if(s.currentlyMoving===!1){var i=e(this).data("position");(2==i||i==s.totalFeatureCount)&&e(this).css("opacity",.75)}t.pauseOnHover&&f(!1)}),e("a",s.containerIDTag).on("click",function(i){var n=e(this).parentsUntil(s.containerIDTag);n.each(function(){var n=e(this).data("position");if(void 0!==n){if(1!=n)return n==s.totalFeatureCount?w(!1,1):2==n&&w(!0,1),i.preventDefault(),!1;t.clickedCenter(e(this))}})}),e(document).on("click",s.containerIDTag+" .tracker-individual-blip",function(){var t=e(this).html(),i=s.featuresContainer.find(".carousel-feature").eq(t-1).data("position"),n=s.currentCenterNum;if(t!=n){var a=b(1,i);0>a?w(!1,-1*a):w(!0,a)}}),this.reload=function(i){if(console.log(i),jQuery(s.containerIDTag).find(".carousel-feature .carousel-caption").css({display:"none"}),"object"==typeof i)var n=i;else var n={};t=e.extend({},e.fn.pinwheel.defaults,n),a(function(){d(),c(),u(),h(),w(!0,1)})},this.next=function(){w(!0,1)},this.prev=function(){w(!1,1)},this.pause=function(){f(!0)},this.start=function(){f(!1)},this.reload(t),this},e.fn.pinwheel.defaults={largeFeatureWidth:0,largeFeatureHeight:0,smallFeatureWidth:.5,smallFeatureHeight:.5,topPadding:20,sidePadding:50,smallFeatureOffset:50,startingFeature:1,carouselSpeed:1e3,autoPlay:4e3,pauseOnHover:!0,stopOnHover:!1,trackerIndividual:!0,trackerSummation:!0,preload:!0,displayCutoff:0,animationEasing:"swing",leftButtonTag:"#carousel-left",rightButtonTag:"#carousel-right",captionBelow:!1,movedToCenter:e.noop,leavingCenter:e.noop,clickedCenter:e.noop,movingToCenter:e.noop,sliderMaxWidth:900,sliderMaxHeight:350}})(jQuery),function(e){"use strict";function t(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function i(e,i){this.el=e,this.options=t({},this.options),t(this.options,i),this._init()}var n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},s=n[Modernizr.prefixed("transition")],a={transitions:Modernizr.csstransitions};i.prototype.options={onSubmit:function(){return!1}},i.prototype._init=function(){this.current=0,this.questions=[].slice.call(this.el.querySelectorAll("ol.questions > li")),this.questionsCount=this.questions.length,classie.addClass(this.questions[0],"current"),this.ctrlNext=this.el.querySelector("button.next"),this.progress=this.el.querySelector("div.progress"),this.questionStatus=this.el.querySelector("span.number"),this.currentNum=this.questionStatus.querySelector("span.number-current"),this.currentNum.innerHTML=Number(this.current+1),this.totalQuestionNum=this.questionStatus.querySelector("span.number-total"),this.totalQuestionNum.innerHTML=this.questionsCount,this.error=this.el.querySelector("span.error-message"),this._initEvents()},i.prototype._initEvents=function(){var e=this,t=this.questions[this.current].querySelector("input"),i=function(){t.removeEventListener("focus",i),classie.addClass(e.ctrlNext,"show")};t.addEventListener("focus",i),this.ctrlNext.addEventListener("click",function(t){t.preventDefault(),e._nextQuestion()}),document.addEventListener("keydown",function(t){var i=t.keyCode||t.which;13===i&&(t.preventDefault(),e._nextQuestion())}),this.el.addEventListener("keydown",function(e){var t=e.keyCode||e.which;9===t&&e.preventDefault()})},i.prototype._nextQuestion=function(){if(!this._validade())return!1;this.current===this.questionsCount-1&&(this.isFilled=!0),this._clearError();var e=this.questions[this.current];if(++this.current,this._progress(),!this.isFilled){this._updateQuestionNumber(),classie.addClass(this.el,"show-next");var t=this.questions[this.current];classie.removeClass(e,"current"),classie.addClass(t,"current")}var i=this,n=function(e){a.transitions&&this.removeEventListener(s,n),i.isFilled?i._submit():(classie.removeClass(i.el,"show-next"),i.currentNum.innerHTML=i.nextQuestionNum.innerHTML,
i.questionStatus.removeChild(i.nextQuestionNum),t.querySelector("input").focus())};a.transitions?this.progress.addEventListener(s,n):n()},i.prototype._progress=function(){this.progress.style.width=this.current*(100/this.questionsCount)+"%"},i.prototype._updateQuestionNumber=function(){this.nextQuestionNum=document.createElement("span"),this.nextQuestionNum.className="number-next",this.nextQuestionNum.innerHTML=Number(this.current+1),this.questionStatus.appendChild(this.nextQuestionNum)},i.prototype._submit=function(){this.options.onSubmit(this.el)},i.prototype._validade=function(){var e=this.questions[this.current].querySelector("input").value;return""===e?(this._showError("EMPTYSTR"),!1):!0},i.prototype._showError=function(e){var t="";switch(e){case"EMPTYSTR":t="Please fill the field before continuing";break;case"INVALIDEMAIL":t="Please fill a valid email address"}this.error.innerHTML=t,classie.addClass(this.error,"show")},i.prototype._clearError=function(){classie.removeClass(this.error,"show")},e.stepsForm=i}(window);